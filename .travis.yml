language: cpp

compiler:
  - gcc
  - clang

before_install:
 - lsb_release --all
 - sudo apt-get update
 - sudo apt-get upgrade

install:
 - sudo apt-get install build-essential
 - sudo apt-get install cmake
 - sudo apt-get install libboost-all-dev
 - sudo apt-get install libhtmlcxx-dev
 - sudo apt-get install libcurl4-*-dev

before_script:
 - export src_dir=$(pwd)
 - export build_dir=$(mktemp --directory) 
 - mkdir --parents "$build_dir/coil"
 - mkdir --parents "$build_dir/triangle"
 - mkdir --parents "$build_dir/thread-pool"

script:
 
 - cd "$build_dir/coil" && cmake "$src_dir/coil" && make && ./test
 - cd "$build_dir/triangle" && cmake "$src_dir/triangle" && make
 - cd "$build_dir/thread-pool" && cmake "$src_dir/thread-pool" && make
 